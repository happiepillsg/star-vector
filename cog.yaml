build:
  gpu: true
  python_version: "3.11"
  system_packages:
    - libcairo2-dev  # Cairo library
    - pkg-config     # Needed for Cairo configuration
    - libpango1.0-dev  # Often needed with Cairo
    - libjpeg-dev    # For image processing
    - libgif-dev     # For GIF support
    - librsvg2-dev   # For SVG support
  python_packages:
    # Core dependencies
    - torch==2.0.1
    - transformers==4.31.0
    - accelerate
    - fairscale
    - huggingface_hub
    
    # Image processing
    - pillow
    - scikit-image
    - torchvision
    
    # SVG handling
    - svgpathtools==1.6.1
    - cairosvg
    - lxml
    - svglib
    
    # Data processing
    - numpy
    - scipy==1.11.1
    - pandas
    
    # Parsing and text processing
    - beautifulsoup4  # This provides bs4
    - sentencepiece==0.2.0
    - tokenizers
    
    # Configuration and utilities
    - omegaconf
    - tqdm
    - packaging
    - pyyaml
    - filelock
    - requests
    
    # Additional dependencies that might be needed
    - einops
    - timm
    - seaborn==0.12.2
    - gradio_client==0.2.9
    - httpx
    - fsspec
    - regex
    - protobuf
    - clip-openai
    - open-clip-torch
    - cairocffi  # Explicitly include the Python binding for Cairo

predict: "predict.py:Predictor"
